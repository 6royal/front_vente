<div class="page-header">
  <div class="add-item d-flex">
    <div class="page-title">
      <h4>Modifier Un Produit</h4>
    </div>
  </div>
  <ul class="table-top-head">
    <li>
      <div class="page-btn">
        <a [routerLink]="routes.productList" class="btn btn-secondary"><i class="feather icon-arrow-left me-2"></i>Revenir Aux Produits</a>
    </div>
  </li>
  <li>
    <a data-bs-toggle="tooltip" data-bs-placement="top" id="collapse-header" (click)="toggleCollapse()" matTooltip="Collapse"
      matTooltipPosition="above"> @if (!isCollapsed) {
      <i class="feather icon-chevron-up feather-chevron-up"></i>
    }
    @if (isCollapsed) {
      <i class="feather icon-chevron-down feather-chevron-down"></i>
    }</a>
  </li>
</ul>

</div>
<!-- /add -->
<form [formGroup]="productForm" (ngSubmit)="confirmColor()">
  <div class="card">
    <div class="card-body add-product pb-0">
      <div class="accordion-card-one accordion" id="accordionExample">
        <div class="accordion-item">
          <div class="accordion-header" id="headingOne">
            <div class="accordion-button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
              aria-controls="collapseOne">
              <div class="addproduct-icon">
                <h5><i class="feather icon-info add-info"></i><span>Information Produit</span></h5>
                <a href="javascript:void(0);"><i class="feather icon-chevron-down chevron-down-add"></i></a>
              </div>
            </div>
          </div>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
            data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <div class="row">
                <div class="col-lg-4 col-sm-6 col-12">
                  <div class="mb-3 add-product">
                    <label class="form-label">Nom Du Produit</label>
                    <input formControlName="name" type="text" class="form-control" />
                    <small *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="text-danger">
                      Le nom du produit est obligatoire.
                    </small>
                  </div>
                </div>
                <div class="col-lg-4 col-sm-6 col-12">
                  <div class="mb-3 add-product">
                    <label class="form-label">Prix</label>
                    <input formControlName="price" type="text" class="form-control" />
                    <small *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="text-danger">
                      Le prix doit être un nombre valide.
                    </small>
                  </div>
                </div>
                <div class="col-lg-4 col-sm-6 col-12">
                  <div class="mb-3 add-product">
                    <label class="form-label">Quantité</label>
                    <input formControlName="stockQuantity" type="number" class="form-control" />
                    <small *ngIf="productForm.get('stockQuantity')?.invalid && productForm.get('stockQuantity')?.touched" class="text-danger">
                      La quantité est obligatoire et doit être positive.
                    </small>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-4 col-sm-6 col-12">
                  <div  class="mb-3 add-product">
                    <label class="form-label">Categorie</label>
                    <mat-select formControlName="category" class="form-control">
                      <mat-option *ngFor="let data of category" [value]="data.id">{{ data.name }}</mat-option>
                    </mat-select>
                    <small *ngIf="productForm.get('categori')?.invalid && productForm.get('categori')?.touched" class="text-danger">
                      La catégorie est obligatoire.
                    </small>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="input-blocks summer-description-box transfer mb-3">
                    <label>Description</label>
                    <textarea formControlName="description" class="form-control h-100" rows="5"></textarea>
                    <small *ngIf="productForm.get('description')?.invalid && productForm.get('description')?.touched" class="text-danger">
                      La description est obligatoire (max 60 caractères).
                    </small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12">
      <div class="btn-addproduct mb-4">
        <button type="button" class="btn btn-cancel me-2">Annuler</button>
        <button type="submit" class="btn btn-submit" [disabled]="productForm.invalid">Sauvegarder Produit</button>
      </div>
    </div>
  </div>
</form>

      <!-- /add -->

      <!-- Add Adjustment -->
      
      <!-- /Add Adjustment -->

      <!-- Add Category -->
      <div class="modal fade" id="add-units-category">
        <div class="modal-dialog modal-dialog-centered custom-modal-two">
          <div class="modal-content">
            <div class="page-wrapper-new p-0">
              <div class="content">
                <div class="modal-header border-0 custom-modal-header">
                  <div class="page-title">
                    <h4>Add New Category</h4>
                  </div>
                  <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body custom-modal-body">
                  <div class="mb-3">
                    <label class="form-label">Name</label>
                    <input type="text" class="form-control">
                  </div>
                  <div class="modal-footer-btn">
                    <a href="javascript:void(0);" class="btn btn-cancel me-2" data-bs-dismiss="modal">Cancel</a>
                    <a [routerLink] = "routes.addProduct" class="btn btn-submit">Submit</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- /Add Category -->

      <!-- Add Brand -->
     
      <!-- /Add Brand -->

      <!-- Add Unit -->
      
                
              

      <!-- /Add Unit -->

      <!-- Add Variatent -->
     
     
      <!-- /Add Variatent -->